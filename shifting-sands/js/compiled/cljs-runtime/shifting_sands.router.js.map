{"version":3,"sources":["shifting_sands/router.cljs"],"mappings":";AAMA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA;AAQL,AAAKC,AACH,AAAA,AAAAC,AAAME;AAAN,AAAgB,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAoD,AAAA,AAAAH;AAApD,AAAA,AAAAG,AAAAA,AAACC,AAAAA,AAAAA;;AAAjB,AAAAH,AACMI;AADN,AACa,AAAI,AAAAJ,AAACK;;AAAS,AAACA,AAAM,AAAAL,AAACM,AAAiBT;;AAAW,AAAAG,AAACM,AAAiBT;;AADjF,AAEE,AAACU,AAAYN,AAASG;;AAE1B,AAAA,AAAMI;AAAN,AACE,AAAcV;;AAEhB,AAAKW,AAAQ,AAACC,AAAQC,AAAcd;AAEpC,AAAA,AAAMe,AACHC;AADH,AAEE,AAAkBf,AAAQe","names":["shifting-sands.router/routes","shifting-sands.router/history","p1__66023#","p1__66024#","dispatch","G__66025","re-frame.core/dispatch","match","cljs.core.print","bidi.bidi/match-route","pushy.core/pushy","shifting-sands.router/start!","shifting-sands.router/url-for","cljs.core.partial","bidi.bidi/path-for","shifting-sands.router/set-token!","token"],"sourcesContent":["(ns shifting-sands.router\n  (:require [bidi.bidi :as bidi]\n            [pushy.core :as pushy]\n            [re-frame.core :as re-frame]\n            [shifting-sands.events :as events]))\n\n(def routes\n  [\"/\" {\"shifting-sands\" :home\n        \"shifting-sands/\" {\"\" :home\n                           \"new-character\" :new-character\n                           true :not-found}\n        \"shifting-sands-new-character\" :new-character\n        true :not-found}])\n\n(def history\n  (let [dispatch #(re-frame/dispatch [::events/set-active-page {:page (:handler %)}])\n        match #(do (print %) (print (bidi/match-route routes %)) (bidi/match-route routes %))]\n    (pushy/pushy dispatch match)))\n\n(defn start! []\n  (pushy/start! history))\n\n(def url-for (partial bidi/path-for routes))\n\n(defn set-token!\n  [token]\n  (pushy/set-token! history token))\n"]}